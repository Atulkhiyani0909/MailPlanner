<%layout("/layout/boilerplate")%>


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
<style>
  
  @media (max-width: 576px) {
    .card-body p, 
    .card-body h5, 
    .list-group-item, 
    .card-link {
      font-size: 12px; /* Smaller text on extra small screens */
    }
  }
</style>

</style>
<h1>Mail History</h1>
<br>
<div class="container-fluid px-3 mt-4">
  <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-3">
    <% for(let allmail of allmails){ %>
      <div class="col">
        <div class="card shadow-lg h-100" style="border-radius: 20px;">
          <div class="card-body">
            <% if(allmail.isSent) { %>
              <p class="text-success"><b>Delivered</b> <i class="fa-solid fa-check"></i></p>
            <% } else { %>
              <p class="text-warning"><b>Pending</b> <i class="fa-solid fa-hourglass-start"></i></p>
            <% } %>
            <h5 class="card-title text-primary">Mail Status: <i><%= allmail.isSent ? "Delivered" : "Pending" %></i></h5>
            <p class="card-text">Subject: <%= allmail.Subject %></p>
          </div>
          <ul class="list-group list-group-flush">
            <li class="list-group-item">To: <%= allmail.to %></li>
            <li class="list-group-item">Date Sent: <%= allmail.dateCreated.toString().substring(0,24) %></li>
            <li class="list-group-item">Sending Time: <%= allmail.sendingTime.toString().substring(0,24) %></li>
          </ul>
          <div class="card-body">
            <a href="/mail/<%= allmail.id %>" class="card-link">Open Mail</a>
          </div>
        </div>
      </div>
    <% } %>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
